# BlynkExamples
Code templates for Blynk projects using deprecated Blynk library version (&lt;1)

## Что здесь?
Это репозиторий с простыми примерами кода и объяснениями как он работает.
Если у вас появятся повросы по коду или просто появится желание со мной пообщаться. то это можно сделать в Telegram @Iota_02.

## Базовый скетч

```
#define BLYNK_PRINT Serial
#include <ESP8266WiFi.h>
#include <BlynkSimpleEsp8266.h>
char auth[] = "YourAuthToken";
char ssid[] = "YourNetworkName";
char pass[] = "YourPassword";

void setup(){
  Serial.begin(115200);
  Blynk.begin(auth, ssid, pass);
  //Blynk.begin(auth, ssid, pass, "blynk-cloud.com", 80);
  //Blynk.begin(auth, ssid, pass, IPAddress(192,168,1,100), 8080);
}
void loop(){
  Blynk.run();
}
```

Что тут что? Строка ```#define BLYNK_PRINT Serial``` говорит, что вся информация, которую выводит Blynk будет перенаправлена в консоль (ака Serial.print).

Следующие две строки ```#include <ESP8266WiFi.h>``` и ```#incldue <BlynkSimpleEsp8266.h``` подключают в скетч библиотеки которые необходимы для работы Blynk. 
Туда лучше не лезть пока не будешь понимать C++ на продвинутом уровне (если ты только добрался до работы с памятью в плюсах, то тебе туда ещё очень рано).

Дальше самые важные данные - токен устройства (```char auth[]="YourAuthToket";```), имя WiFi-точки (```char ssid[]="YourNetworkName";```) 
и её пароль (```char pass[]="YourPassword";```). Я надеюсь, что мне не надо объяснять, что текст в двойных ковычках надо поменять на действительные данные.

### Что такое токен устройстваа?
Токен устройства - уникальный ключ, который генерирует приложение Blynk в конкретном проекте под конкретную плату. Зная ключ можно отправлять и получать данные 
из Blynk через обычные http запросы (для пытливых умов скину [ссылку](https://blynkapi.docs.apiary.io/#) на REST API Blynk. Попробовать запросы можно не только 
используя какой-то язык программирования, но и приложение [Postman](https://www.postman.com/))

Идём дальше по коду. ``` void setup(){} ``` Это специфичная функция, которая выполняется только один раз - при запуске микроконтроллера. В этом месте 
обычно производится инициализация датчиков, настройка таймеров и другие стартовые конфигурации, которые необходимы в каждом проекте. В тот раз мы инициализируем 
подключение через Serial порт на скорости 115200 бод - ```Serial.begin(115200);```. (Что такое бод? - Это единица измерения символьной скорости. Я не буду 
подробно это расписывать, кто хочет - почитает на [википедии](https://ru.wikipedia.org/wiki/%D0%91%D0%BE%D0%B4).) 
```Blynk.begin(auth, ssid, pass);``` - что мы тут говорим микроконтроллеру сделать? Мы говорим ему, что будет подключаться к серверу Blynk с токеном ```auth```. А делать мы 
это безобразие будем через WiFi точку доступа с именем ```ssid``` и с паролем ```pass```. При испоьзовании такого способа подклчения мы подключаемся к серверу Blynk, который 
создала компания разработчик (Это Blynk, кто бы мог подумать?!). Используя методы указанные в следующих двух строках можно подключаться не только к публичному серверу Blynk,
но ещё и к локальному со всеми плюсами и минусами этого решения. Локальный сервер Blynk может для частного использования развернуть любой желающий из 
[репозитория Blynk](https://github.com/blynkkk/blynk-server).

```void loop(){}``` - функция, которую микроконтроллер будет вызывать бесконечно пока он подключен к сети. Именно здесь мы запускаем работу с сервером Blynk используя строку 
```Blynk.run();```. 

### Забудь про использование ```delay();```
Важно отметить, что при использовании Blynk крайне нежелательно использовать функцию ```delay();```, так как это может негативно сказаться на качестве 
соединения вашего микроконтроллера с сервером, вызывать разрывы соединения и глобальный мировой кризис. Оно тебе надо? Нет? Вот и хорошо. Забудь про ```delay();```, эта
функция проста в понимании и использовании, но очень плохо сказывается на загрузке микроконтроллера и его электропотреблении.
